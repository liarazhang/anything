C51 COMPILER V9.01   Ð¡³µ³µ×î_Õ_æ                                                          09/11/2017 15:58:19 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE Ð¡³µ³µ×î_Õ_æ
OBJECT MODULE PLACED IN .\Ð¡³µ³µ×îÖÕ°æ.obj
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE C:\Users\zxy19\Desktop\Ð¡³µ³µ×îÖÕ°æ.c BROWSE DEBUG OBJECTEXTEND PRINT(.\Ð¡³
                    -µ³µ×îÖÕ°æ.lst) OBJECT(.\Ð¡³µ³µ×îÖÕ°æ.obj)

line level    source

   1          /***********************************×Ô¶¯Ñ°¼£Ð¡³µ³ÌÐò***********************************/
   2          #include<reg51.h>
   3          #define uchar unsigned char
   4          uchar code TIME0[]={0XC0,0XF9,0XA4,0XB0,0X99,0X92,0X82,0XF8,0X80,0X90};//0~9µÄ¶ÎÂë±í
   5          uchar code TIME1[]={0X40,0X79,0X24,0X30,0X19,0X12,0X02,0X78,0X00,0X10};//0~9µÄ¶ÎÂë±í£¨´øÐ¡Êýµã£©
   6          uchar data r=2;                                              //µç»ú×ªËÙ0~5
   7          uchar data biao=0;                                               //×ªÍä±êÖ¾
   8          uchar data t1=0,t2=0,tr=0;                               //¼ÆÊ±²ÎÊý
   9          uchar data x1=0,x2=0,x3=0,x4=0,x5=0,x6=0;//ÊýÂë¹Ü¸÷Î»¶¨Òå                                
  10          sbit guiling=P1^7;                                               //¹éÁã°´Å¥¶¨Òå
  11          sbit ce=P1^6;                                                    //È«ËÙ²âÊÔ°´Å¥¶¨Òå
  12          /***************************************ÏÔÊ¾º¯Êý***************************************/
  13          void display0()                                         //Ê±¼äÏÔÊ¾º¯Êý
  14          {       
  15   1              if(t2==0){P0=TIME0[x6];P2=0X1F;}//µÚ1Ö»ÊýÂë¹Ü£¨Ê±ÊýÊ®Î»£©
  16   1              if(t2==1){P0=TIME1[x5];P2=0X2F;}//µÚ2Ö»ÊýÂë¹Ü£¨Ê±Êý¸öÎ»£©
  17   1                                                              
  18   1              if(t2==2){P0=TIME0[x4];P2=0X37;}//µÚ3Ö»ÊýÂë¹Ü£¨·ÖÊýÊ®Î»£©
  19   1              if(t2==3){P0=TIME1[x3];P2=0X3B;}//µÚ4Ö»ÊýÂë¹Ü£¨·ÖÊý¸öÎ»£©
  20   1              
  21   1              if(t2==4){P0=TIME0[x2];P2=0X3D;}//µÚ5Ö»ÊýÂë¹Ü£¨ÃëÊýÊ®Î»£©
  22   1              if(t2==5){P0=TIME0[x1];P2=0X3E;}//µÚ6Ö»ÊýÂë¹Ü£¨ÃëÊý¸öÎ»£©
  23   1      }
  24          void display1(uchar k)                          //ËÙ¶ÈÏÔÊ¾º¯Êý
  25          {
  26   1        P2=0X1F;                                                      //µÚ1Ö»ÊýÂë¹ÜÏÔÊ¾
  27   1        P0=TIME0[k];                                          //ÏÔÊ¾ËÙ¶È
  28   1      }
  29          /*************************************ÖÐ¶Ï·þÎñº¯Êý*************************************/
  30          void timer0() interrupt 1                //¶¨Ê±Æ÷0Òç³öÖÐ¶Ïº¯Êý 
  31          {
  32   1              TH0=0X3C;                                        //ÖØÖÃ¶¨Ê±Æ÷0³õÖµ
  33   1              TL0=0XB0;
  34   1              t1++;                                            //Ã¿ÎåÊ®ºÁÃët¼Ó1
  35   1              if(t1==20){x1++;tr++;t1=0;}  //20´ÎÖÐ¶ÏÎªÒ»Ãë
  36   1              if(tr==6)tr=0;                           //ÁùÃëÒ»ÖÜÆÚ¼ÆÊ±
  37   1              if(x1==10){x2++;x1=0;}           //ÃëÊýÊ®Î»
  38   1              if(x2==6) {x3++;x2=0;}           //·ÖÖÓÊý¸öÎ»
  39   1              if(x3==10){x4++;x3=0;}           //·ÖÖÓÊýÊ®Î»
  40   1              if(x4==6) {x5++;x4=0;}           //Ð¡Ê±Êý¸öÎ»
  41   1              if(x5==10){x6++;x5=0;}           //Ð¡Ê±ÊýÊ®Î»
  42   1              if(x6==10)x6=0;              //Ð¡Ê±Êý´ïµ½99Ôò¹éÁã
  43   1      }
  44          void timer1() interrupt 3                //¶¨Ê±Æ÷1Òç³öÖÐ¶Ïº¯Êý  
  45          {
  46   1              TH1=0XFC;                                        //ÖØÖÃ¶¨Ê±Æ÷1³õÖµ
  47   1              TL1=0X18;
  48   1              t2++;                                            //Ã¿Ò»ºÁÃët2¼ÓÒ»
  49   1              if(t2==6)t2=0;                           //ÁùºÁÃëÎªÒ»ÖÜÆÚÎªµç»úºÍÊýÂë¹ÜÑÓÊ±
  50   1              if(P3&0X01)biao=2;                       //×ó²àÌ½Í·Ì½²âµ½ºÚÏß
  51   1              if(P3&0X10)biao=1;                       //ÓÒ²àÌ½Í·Ì½²âµ½ºÚÏß
  52   1      }
  53          /***************************************Ö÷º¯Êý***************************************/
  54          void main()
C51 COMPILER V9.01   Ð¡³µ³µ×î_Õ_æ                                                          09/11/2017 15:58:19 PAGE 2   

  55          {
  56   1              TMOD=0X11;                                      //¶¨Ê±Æ÷¹¤×÷Ä£Ê½Éè¶¨   
  57   1              IE=0X8A;                                        //ÔÊÐí¶¨Ê±Æ÷0,1Òç³öÖÐ¶Ï
  58   1              TR0=1;                                          //¶¨Ê±Æ÷0ÔËÐÐ
  59   1              TH0=0X3C;                                       //¶¨Ê±Æ÷0³õÖµÉè¶¨
  60   1              TL0=0XB0;
  61   1              TR1=1;                                          //¶¨Ê±Æ÷1ÔËÐÐ
  62   1          TH1=0XFC;                                   //¶¨Ê±Æ÷1³õÖµÉè¶¨
  63   1              TL1=0X18;
  64   1          while(1)                                    //ËÀÑ­»·
  65   1              {
  66   2                               if(P3==0XE2||P3==0XE3||P3==0XE6||P3==0XE7||P3==0XF2||P3==0XFC){if(t2<=r)P1=0XC6;else P1=0XC0;}//ÓÒ×ª
  67   2                      else if(P3==0XE6||P3==0XE8||P3==0XE9||P3==0XEC||P3==0XED||P3==0XF8){if(t2<=r)P1=0XF0;else P1=0XC0;}//×ó×
             -ª
  68   2                      else if(P3==0XF0){if(t2<=r)P1=0XF3;else P1=0XC0;}         //Ïò×óÔ­µØ×ªÍä
  69   2                      else if(P3==0XE1){if(t2<=r)P1=0XDE;else P1=0XC0;}         //ÏòÓÒÔ­µØ×ªÍä
  70   2                      else if(P3==0XFF){if(t2<=r)P1=0XC0;else P1=0XC0;}         //Í£Ö¹
  71   2                      else if(P3==0XE0&&biao==1){if(t2<=r)P1=0XF3;else P1=0XC0;}//Èç¹ûÖ®Ç°×ó²àÌ½Í·¼ì²âµ½¹ìµÀÔòÏò×óÔ­µØ×ªÍä
  72   2                      else if(P3==0XE0&&biao==2){if(t2<=r)P1=0XDE;else P1=0XC0;}//Èç¹ûÖ®Ç°ÓÒ²àÌ½Í·¼ì²âµ½¹ìµÀÔòÏòÓÒÔ­µØ×ªÍä
  73   2                      else {if(t2<=r)P1=0XF6;else P1=0XC0;}                     //Ç°½ø
  74   2      
  75   2                      if(guiling==0&&ce==1){x1=0;x2=0;x3=0;x4=0;x5=0;x6=0;display0();}      //¼ÆÊ±Æ÷¹éÁã
  76   2                      else if(guiling==1&&ce==0){if(t2<=r)P1=0XF6;else P1=0XC0;display1(r);}//²âÊÔ²¢ÏÔÊ¾ËÙ¶È
  77   2                      else if(guiling==0&&ce==0){r=tr;display1(r);}                 //ËÙ¶Èµ÷½Ú
  78   2                      else display0();                                                              //ÏÔÊ¾³ÌÐòÔËÐÐÊ±¼ä
  79   2              }
  80   1      }
  81          /*******************************************************************************************************/
  82          // ¿Õ    ¿Õ    ¿Õ  /×óÍâ  ×óÄÚ   ÖÐ   ÓÒÄÚ  ÓÒÍâ Ê®Áù½ø          Ì½²âÇé¿ö                                         Ð¡³µÔË¶¯Çé¿ö
  83          //P3.7  P3.6  P3.5 /P3.4  P3.3  P3.2  P3.1  P3.0  ÖÆÂë
  84          // 1-----1-----1----/0-----0-----0-----0-----0-----E0-----Ì½²â²»µ½ºÚÏß---------------------------Ô­µØ×ó×ª»
             -òÓÒ×ª
  85          // 1-----1-----1----/0-----0-----0-----0-----1-----E1-----ÓÒ±ßÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-----------------Ô­µØÓÒ×ª
  86          // 1-----1-----1----/0-----0-----0-----1-----0-----E2-----ÓÒ±ßÄÚ²àÌ½Í·Ì½²âµ½ºÚÏß-----------------ÓÒ×ª
  87          // 1-----1-----1----/0-----0-----0-----1-----1-----E3-----ÓÒ±ßÁ½¸öÌ½Í·Ì½²âµ½ºÚÏß-----------------ÓÒ×ª
  88          // 1-----1-----1----/0-----0-----1-----0-----0-----E4-----ÖÐ¼äÌ½Í·Ì½²âµ½ºÚÏß---------------------Ç°½ø
  89          // 1-----1-----1----/0-----0-----1-----0-----1-----E5-----ÖÐ¼äºÍÓÒ±ßÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-----------Ç°½ø
  90          // 1-----1-----1----/0-----0-----1-----1-----0-----E6-----ÖÐ¼äºÍÓÒ±ßÄÚ²àÌ½Í·Ì½²âµ½ºÚÏß-----------ÓÒ×ª
  91          // 1-----1-----1----/0-----0-----1-----1-----1-----E7-----ÓÒ±ßÈý¸öÌ½Í·Ì½²âµ½ºÚÏß-----------------ÓÒ×ª
  92          // 1-----1-----1----/0-----1-----0-----0-----0-----E8-----×ó±ßÄÚ²àÌ½Í·Ì½²âµ½ºÚÏß-----------------×ó×ª
  93          // 1-----1-----1----/0-----1-----0-----0-----1-----E9-----×ó±ßÄÚ²àºÍÓÒ±ßÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-------×ó×ª
  94          // 1-----1-----1----/0-----1-----0-----1-----0-----EA-----×ó±ßÄÚ²àºÍÓÒ±ßÄÚ²àÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
  95          // 1-----1-----1----/0-----1-----0-----1-----1-----EB-----×ó±ßÄÚ²àºÍÓÒ±ßÁ½¸öÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
  96          // 1-----1-----1----/0-----1-----1-----0-----0-----EC-----×ó±ßÄÚ²àºÍÖÐ¼äÌ½Í·Ì½²âµ½ºÚÏß-----------×ó×ª
  97          // 1-----1-----1----/0-----1-----1-----0-----1-----ED-----×ó±ßÄÚ²à£¬ÖÐ¼äºÍÓÒ±ßÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-×ó×ª
  98          // 1-----1-----1----/0-----1-----1-----1-----0-----EE-----ÖÐ¼äÈý¸öÌ½Í·Ì½²âµ½ºÚÏß-----------------Ç°½ø
  99          // 1-----1-----1----/0-----1-----1-----1-----1-----EF-----ÓÒ²àËÄ¸öÌ½Í·Ì½²âµ½ºÚÏß-----------------Ç°½ø
 100          // 1-----1-----1----/1-----0-----0-----0-----0-----F0-----×ó±ßÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-----------------Ô­µØ×ó×ª
 101          // 1-----1-----1----/1-----0-----0-----0-----1-----F1-----×óÓÒÁ½±ßÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-------------Ç°½ø
 102          // 1-----1-----1----/1-----0-----0-----1-----0-----F2-----×ó±ßÍâ²àºÍÓÒ±ßÄÚ²àÌ½Í·Ì½²âµ½ºÚÏß-------ÓÒ×ª
 103          // 1-----1-----1----/1-----0-----0-----1-----1-----F3-----×ó±ßÍâ²àºÍÓÒ±ßÁ½¸öÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
 104          // 1-----1-----1----/1-----0-----1-----0-----0-----F4-----×ó±ßÍâ²àºÍÖÐ¼äÌ½Í·Ì½²âµ½ºÚÏß-----------Ç°½ø
 105          // 1-----1-----1----/1-----0-----1-----0-----1-----F5-----×óÓÒÁ½±ßÍâ²àºÍÖÐ¼äÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
 106          // 1-----1-----1----/1-----0-----1-----1-----0-----F6-----×ó±ßÍâ²à£¬ÖÐ¼äºÍÓÒ±ßÄÚ²àÌ½Í·Ì½²âµ½ºÚÏß-ÓÒ×ª
 107          // 1-----1-----1----/1-----0-----1-----1-----1-----F7-----×ó±ßÍâ²àºÍÓÒ±ßÈý¸öÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
 108          // 1-----1-----1----/1-----1-----0-----0-----0-----F8-----×ó±ßÁ½¸öÌ½Í·Ì½²âµ½ºÚÏß-----------------×ó×ª
 109          // 1-----1-----1----/1-----1-----0-----0-----1-----F9-----×ó±ßÁ½¸öºÍÓÒ±ßÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
 110          // 1-----1-----1----/1-----1-----0-----1-----0-----FA-----×ó±ßÁ½¸öºÍÓÒ±ßÄÚ²àÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
 111          // 1-----1-----1----/1-----1-----0-----1-----1-----FB-----×óÓÒÁ½±ßÄÚ²àºÍÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
 112          // 1-----1-----1----/1-----1-----1-----0-----0-----FC-----×ó±ßÈý¸öÌ½Í·Ì½²âµ½ºÚÏß-----------------×ó×ª
 113          // 1-----1-----1----/1-----1-----1-----0-----1-----FD-----×ó±ßÈý¸öºÍÓÒ±ßÍâ²àÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
 114          // 1-----1-----1----/1-----1-----1-----1-----0-----FE-----×ó±ßÈý¸öºÍÓÒ±ßÄÚ²àÌ½Í·Ì½²âµ½ºÚÏß-------Ç°½ø
C51 COMPILER V9.01   Ð¡³µ³µ×î_Õ_æ                                                          09/11/2017 15:58:19 PAGE 3   

 115          // 1-----1-----1----/1-----1-----1-----1-----1-----FF-----ËùÓÐÌ½Í·¶¼Ì½²âµ½ºÚÏß-------------------Í£Ö¹
 116          /*******************************************************************************************************/
 117          //                ÓÒ²àµç»ú          ×ó²àµç»ú     
 118          //¹éÁã  ²âÊÔ /IN2   ENA   IN1  /IN3   ENB   IN4  Ê®Áù½ø        Á½²àµç»ú×ª¶¯Çé¿ö                      Ð¡³µÔË¶¯Çé¿ö
 119          //P1.7  P1.6 /P1.5  P1.4  P1.3 /P1.2  P1.1  P1.0  ÖÆÂë
 120          // 1-----1----/1-----1-----0----/1-----1-----0-----F6-----×óÓÒµç»úÍ¬Ê±Õý×ª-----------------------Ç°½ø
 121          // 1-----1----/1-----0-----0----/1-----1-----0-----C6-----×ó²àµç»úÕý×ªÓÒ²àµç»ú²»×ª---------------ÓÒ×ª
 122          // 1-----1----/1-----1-----0----/0-----0-----0-----F0-----ÓÒ²àµç»úÕý×ª×ó²àµç»ú²»×ª---------------×ó×ª
 123          // 1-----1----/0-----0-----0----/0-----0-----0-----C0-----×óÓÒµç»ú¶¼²»×ª-------------------------Í£Ö¹
 124          // 1-----1----/1-----1-----0----/0-----1-----1-----F3-----ÓÒ²àµã½ôÕý×ª×ó²àµç»ú·´×ª---------------Ô­µØ×ó×ª
 125          // 1-----1----/0-----1-----1----/1-----1-----0-----DE-----ÓÒ²àµç»ú·´×ª×ó²àµç»úÕý×ª---------------Ô­µØÓÒ×ª


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    540    ----
   CONSTANT SIZE    =     20    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     11    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
