C51 COMPILER V9.01   CHECK                                                                 09/11/2017 15:01:23 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE CHECK
OBJECT MODULE PLACED IN CHECK.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE CHECK.C BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include<reg51.h>
   2          #include <intrins.h>
   3          #define uchar unsigned char
   4          #define uint unsigned int
   5          #define t 1
   6          uchar code seg_data[ ] = {0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,0xff};//0~9的段码表,0x00为熄灭
             -符
   7          uchar data disp_buf[7] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00};//显示缓冲区
   8          
   9          sbit IN1 =P1^3;
  10          sbit IN2=P1^5;
  11          sbit IN3=P1^2;
  12          sbit IN4=P1^0;
  13          sbit LED1=P2^6;
  14          sbit LED2=P2^7; 
  15          sbit S1=P1^6;
  16          unsigned int count=0;                                     
  17           
  18          /********以下是延时函数********/
  19          void Delay_ms(uint xms)         //延时程序，xms是形式参数
  20          {                                                                                                                                                                                                                           
  21   1              uint i, j;
  22   1              for(i=xms;i>0;i--)               // i=xms,即延时xms, xms由实际参数传入一个值
  23   1                      for(j=115;j>0;j--);                  //此处分号不可少
  24   1      }
  25          /********以下是显示函数********/
  26          
  27          display()
  28          {
  29   1         P0=seg_data[0];                              //显示毫秒十位
  30   1         P2=0xfe;                                         //开个位显示(开第1只数码管)
  31   1         Delay_ms(t);                                         //延时10ms
  32   1         P0=seg_data[1];                              //显示毫秒百位
  33   1         P2=0xfd;                                                     //开十位显示(开第2只数码管)
  34   1         Delay_ms(t);                                         //延时10ms
  35   1         P0=seg_data[2];                              //显示秒个位
  36   1         P2=0xfb;                                         //开百位显示(开第3只数码管)
  37   1         Delay_ms(t);                                         //延时10ms
  38   1         P0=seg_data[3];                              //显示秒十位
  39   1         P2=0xf7;                                                     //开个位显示(开第4只数码管)
  40   1         Delay_ms(t);                                         //延时10ms
  41   1         P0=seg_data[4];                              //显示分个位
  42   1         P2=0xef;                                         //开十位显示(开第5只数码管)
  43   1         Delay_ms(t);                                         //延时10ms
  44   1         P0=seg_data[5];                              //显示分十位
  45   1         P2=0xdf;                                                     //开个位显示(开第6只数码管)
  46   1         Delay_ms(t);                                         //延时10ms
  47   1         P2=0xff;
  48   1      }
  49          
  50          stop()
  51          {
  52   1              IN1=0; 
  53   1              IN2=0;
  54   1              IN3=0;
C51 COMPILER V9.01   CHECK                                                                 09/11/2017 15:01:23 PAGE 2   

  55   1              IN4=0;
  56   1      //      Delay_ms(1000);
  57   1      }
  58          qianjin()
  59          {
  60   1              IN1=1;
  61   1              IN2=0;
  62   1              IN3=0;
  63   1              IN4=1;
  64   1      }               
  65          houtui()
  66          {
  67   1          IN1=0; 
  68   1              IN2=1;
  69   1              IN3=1;
  70   1              IN4=0;
  71   1      }       
  72               
  73          //****************主程序******************//
  74          void main()
  75          {  P0=0xff;
  76   1         P2=0xff;
  77   1         P1=0xff;
  78   1       //  TMOD=0x01;                             //定时器T0方式1
  79   1       //  TH0=0xfe; TL0=0x0c;      //1ms定时初值
  80   1       //  EA=1; ET0=1; TR0=1;                //开总中断,开定时器T0中断,启动定时器T0
  81   1         count = 0;
  82   1         while(1)
  83   1         {
  84   2             LED1=0;
  85   2             LED2=0;
  86   2             display();
  87   2              count++;
  88   2              if( count<100  )
  89   2             {
  90   3                  houtui();
  91   3             }
  92   2              else 
  93   2              {
  94   3                    if(count<200)
  95   3             {
  96   4                     stop();
  97   4                 }
  98   3                 else
  99   3             {
 100   4                         if ( count < 300 )
 101   4                         {
 102   5                    qianjin();
 103   5                         }
 104   4                         else 
 105   4                         {
 106   5                         if ( count < 400 )
 107   5                         {
 108   6                       stop();
 109   6                             }
 110   5                                 else
 111   5                                 {
 112   6                                    count = 0 ;
 113   6                                 }
 114   5                         }
 115   4              }
 116   3          }
C51 COMPILER V9.01   CHECK                                                                 09/11/2017 15:01:23 PAGE 3   

 117   2              }
 118   1      }
*** WARNING C290 IN LINE 48 OF CHECK.C: missing return value
*** WARNING C290 IN LINE 57 OF CHECK.C: missing return value
*** WARNING C290 IN LINE 64 OF CHECK.C: missing return value
*** WARNING C290 IN LINE 71 OF CHECK.C: missing return value


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    228    ----
   CONSTANT SIZE    =     11    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      9    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  4 WARNING(S),  0 ERROR(S)
